<div class="modal-overlay" *ngIf="show" (click)="onClose()">
  <div class="modal-content qr-modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2 class="modal-title">
        <svg class="modal-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="5" height="5"></rect>
          <rect x="16" y="3" width="5" height="5"></rect>
          <rect x="3" y="16" width="5" height="5"></rect>
          <line x1="8" y1="8" x2="8" y2="8"></line>
          <line x1="16" y1="8" x2="16" y2="8"></line>
          <line x1="8" y1="16" x2="8" y2="16"></line>
          <line x1="16" y1="16" x2="16" y2="16"></line>
          <line x1="11" y1="3" x2="11" y2="8"></line>
          <line x1="11" y1="16" x2="11" y2="21"></line>
          <line x1="3" y1="11" x2="8" y2="11"></line>
          <line x1="16" y1="11" x2="21" y2="11"></line>
        </svg>
        CÃ³digo QR
      </h2>
      <button class="modal-close" (click)="onClose()" type="button" aria-label="Cerrar">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="modal-body qr-modal-body">
      <div class="qr-modal-wrapper">
        <div class="qr-code-container qr-modal-container">
          <qrcode
            [qrdata]="content"
            [width]="320"
            [errorCorrectionLevel]="'H'"
            [colorDark]="'#1a1a1a'"
            [colorLight]="'#ffffff'"
            [cssClass]="'qr-code-element'"
            [allowEmptyString]="false"
          ></qrcode>
        </div>
        <p class="qr-modal-hint">QR con el contenido original</p>
      </div>
    </div>

    <div class="modal-footer qr-modal-footer">
      <button class="btn-secondary" (click)="onClose()" type="button">Cerrar</button>
      <button class="btn-primary download-btn" (click)="onDownload()" type="button">
        <svg class="download-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
        Descargar QR
      </button>
    </div>
  </div>
</div>
